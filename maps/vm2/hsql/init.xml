<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC '-//iBATIS.com//DTD SQL Map 2.0//EN' 'http://www.ibatis.com/dtd/sql-map-config-2.dtd'>
<sqlMap namespace="init">
    <delete id="delCustomTable" parameterClass="String" >
        DROP TABLE $value$
    </delete>
    <statement id="createVMREInfo">
        CREATE TABLE vmre_info (
        name CHAR(25) NOT NULL,
        value VARCHAR(255) DEFAULT '' NOT NULL,
        PRIMARY KEY (name)
        )
    </statement>
    <insert id="insDBVersion" parameterClass="String">
        INSERT INTO vmre_info(name, value)
        VALUES ('db_version',#value#)
    </insert>
    <update id="updDBVersion" parameterClass="String">
        UPDATE vmre_info
        SET value = #value#
        WHERE name = 'db_version'
    </update>
    <select id="getVMREInfo" parameterClass="String" resultClass="String">
        SELECT value
        FROM vmre_info
        WHERE name = #value#
    </select>
    <statement id="createProduct">
        CREATE TABLE jos_virtuemart_products (
  virtuemart_product_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  virtuemart_vendor_id INTEGER DEFAULT '1' NOT NULL,
  product_parent_id INTEGER DEFAULT '0' NOT NULL,
  product_sku varchar(64) default '' NOT NULL ,
   product_weight decimal(10,4) default NULL,
   product_weight_uom varchar(7) default 'kg',
product_length decimal(10,4) default NULL,
        product_width decimal(10,4) default NULL,
        product_height decimal(10,4) default NULL,
  product_lwh_uom varchar(7) default 'см',
  product_url varchar(255) default NULL,
  product_in_stock INTEGER DEFAULT '0' NOT NULL,
  product_ordered INTEGER DEFAULT '0' NOT NULL,
 low_stock_notification INTEGER DEFAULT '0' NOT NULL, 
  product_available_date TIMESTAMP,
  product_availability varchar(56) default '' NOT NULL ,
  product_special INTEGER DEFAULT '0' NOT NULL,
  product_sales INTEGER DEFAULT '0' NOT NULL,
  product_unit varchar(32) default '',
  product_packaging INTEGER DEFAULT '0' NOT NULL,
  product_params VARCHAR(255),
  hits INTEGER DEFAULT '0' NOT NULL,
  intnotes VARCHAR(255) default '' NOT NULL,
        metarobot VARCHAR(255) default '' NOT NULL,
        metaauthor VARCHAR(255) default '' NOT NULL,
  layout varchar(255) NOT NULL,
  published INTEGER DEFAULT '1' NOT NULL,
        created_on TIMESTAMP ,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (virtuemart_product_id)
)
    </statement>
    
    <statement id="createProductRURU">
  CREATE TABLE jos_virtuemart_products_ru_ru (
  virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
  product_s_desc VARCHAR(255) default '' NOT NULL,
  product_desc LONGVARCHAR default '' NOT NULL,
  product_name varchar(180)  default '' NOT NULL,
  metadesc varchar(192)  default '' NOT NULL,
  metakey varchar(192)  default '' NOT NULL,
  customtitle varchar(255)  default '' NOT NULL,
  slug varchar(192)  default '' NOT NULL,
  PRIMARY KEY (virtuemart_product_id)
) 
    </statement>
    
    <statement id="createProductENGB">
CREATE TABLE jos_virtuemart_products_en_gb (
  virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
  product_s_desc VARCHAR(255) default '' NOT NULL,
  product_desc LONGVARCHAR default '' NOT NULL,
  product_name varchar(180)  default '' NOT NULL,
  metadesc varchar(192)  default '' NOT NULL,
  metakey varchar(192)  default '' NOT NULL,
  customtitle varchar(255)  default '' NOT NULL,
  slug varchar(192)  default '' NOT NULL,
  PRIMARY KEY (virtuemart_product_id)
) 
    </statement>

    <statement id="createProductPrice">
        CREATE TABLE jos_virtuemart_product_prices (
  virtuemart_product_price_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
  virtuemart_shoppergroup_id INTEGER DEFAULT '0' NOT NULL,
  product_price decimal(15,5) default NULL,
  override INTEGER DEFAULT '0' NOT NULL,
  product_override_price decimal(15,5) default NULL,
  product_tax_id INTEGER DEFAULT '0' NOT NULL,
  product_discount_id INTEGER DEFAULT '0' NOT NULL,
product_currency INTEGER DEFAULT '0' NOT NULL,
        product_price_vdate TIMESTAMP,
        product_price_edate TIMESTAMP,
        price_quantity_start INTEGER DEFAULT '0' NOT NULL,
        price_quantity_end INTEGER DEFAULT '0' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY (virtuemart_product_price_id)
)
    </statement>
    
    
    <statement id="createCategory">
CREATE TABLE jos_virtuemart_categories (
 virtuemart_category_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
 virtuemart_vendor_id INTEGER DEFAULT '1' NOT NULL,
 category_template varchar(255) default NULL,
 category_layout varchar(255) default NULL,
category_product_layout varchar(255) default NULL,
        products_per_row INTEGER DEFAULT '1' NOT NULL,
        limit_list_start INTEGER DEFAULT '0' ,
        limit_list_step INTEGER DEFAULT '0' NOT NULL,
        limit_list_max INTEGER DEFAULT '0' NOT NULL,
        limit_list_initial INTEGER DEFAULT '0' NOT NULL,
        hits INTEGER DEFAULT '0' NOT NULL,
        metarobot VARCHAR(255) default '' NOT NULL,
        metaauthor VARCHAR(255) default '' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        shared INTEGER DEFAULT '0' NOT NULL,
        published INTEGER DEFAULT '1' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (virtuemart_category_id)
)
    </statement>
    
    <statement id="createCategoryRURU">
        
CREATE TABLE jos_virtuemart_categories_ru_ru (
  virtuemart_category_id INTEGER DEFAULT '0' NOT NULL,
  category_name  varchar(180)  default '' NOT NULL,
  category_description  LONGVARCHAR default '' NOT NULL,
  metadesc  VARCHAR(255) default '' NOT NULL,
  metakey  VARCHAR(255) default '' NOT NULL,
  customtitle  VARCHAR(255) default '' NOT NULL,
  slug  VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_category_id)
)
    </statement>    
    
    <statement id="createCategoryENGB">
       
CREATE TABLE jos_virtuemart_categories_en_gb (
  virtuemart_category_id INTEGER DEFAULT '0' NOT NULL,
  category_name  varchar(180)  default '' NOT NULL,
  category_description  LONGVARCHAR default '' NOT NULL,
  metadesc  VARCHAR(255) default '' NOT NULL,
  metakey  VARCHAR(255) default '' NOT NULL,
  customtitle  VARCHAR(255) default '' NOT NULL,
  slug  VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_category_id)
)
    </statement>    
    
    <statement id="createCategoryXref">
 CREATE TABLE jos_virtuemart_category_categories (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  category_parent_id INTEGER DEFAULT '0' NOT NULL,
  category_child_id INTEGER DEFAULT '0' NOT NULL,
  ordering INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (id)
)
    </statement>
    
    <statement id="createProductCategoryXref">
        CREATE TABLE jos_virtuemart_product_categories (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_category_id INTEGER DEFAULT '0' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY (id)
        );
    </statement>
    
    <statement id="createShopperGroup">
        CREATE TABLE jos_virtuemart_shoppergroups (
        virtuemart_shoppergroup_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_vendor_id INTEGER DEFAULT '0' NOT NULL,
        shopper_group_name LONGVARCHAR default NULL,
        shopper_group_desc LONGVARCHAR default '' NOT NULL,
        custom_price_display INTEGER DEFAULT '0' NOT NULL,
        price_display  CLOB(30K),
        "default" INTEGER DEFAULT '0' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        shared INTEGER  DEFAULT '0' NOT NULL,
        published INTEGER DEFAULT '1' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY (virtuemart_shoppergroup_id)
        )
    </statement>
    
    <statement id="createUserShopperGroupXref">
    CREATE TABLE  jos_virtuemart_vmuser_shoppergroups (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  virtuemart_user_id INTEGER DEFAULT '0' NOT NULL,
  virtuemart_shoppergroup_id INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (id)
)
    </statement>
   
    <insert id="insDefaultShopperGroup">
        INSERT INTO jos_virtuemart_shoppergroups 
        (virtuemart_shoppergroup_id, virtuemart_vendor_id, shopper_group_name, shopper_group_desc, custom_price_display, price_display, "default", ordering, shared, published, created_on, created_by, modified_on, modified_by, locked_on, locked_by) 
        VALUES
(1, 1, '-anonymous-', 'Shopper group for anonymous shoppers', 0, NULL, 2, 0, 1, 1, '1970-01-01 00:00:01', 0, '1970-01-01 00:00:01', 0, '1970-01-01 00:00:01', 0)
    </insert>
    <insert id="insDefaultShopperGroup2">
        INSERT INTO jos_virtuemart_shoppergroups 
        (virtuemart_shoppergroup_id, virtuemart_vendor_id, shopper_group_name, shopper_group_desc, custom_price_display, price_display, "default", ordering, shared, published, created_on, created_by, modified_on, modified_by, locked_on, locked_by) 
        VALUES
        (2, 1, '-default-', 'This is the default shopper group.', 0, NULL, 1, 0, 1, 1, '1970-01-01 00:00:01', 0, '1970-01-01 00:00:01', 0, '1970-01-01 00:00:01', 0)
    </insert>
    <statement id="createProductMedias">
        CREATE TABLE jos_virtuemart_medias (
        virtuemart_media_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_vendor_id INTEGER DEFAULT '0' NOT NULL,
        file_title varchar(126) default ''  NOT NULL ,
        file_description varchar(254) NOT NULL,
        file_meta varchar(254) NOT NULL,
        file_mimetype varchar(64) NOT NULL,
        file_type varchar(32) NOT NULL,
        file_url VARCHAR(255) default '' NOT NULL,
        file_url_thumb varchar(254) NOT NULL,
        file_is_product_image INTEGER  NOT NULL,
        file_is_downloadable INTEGER  NOT NULL,
        file_is_forSale INTEGER  NOT NULL,
        file_params VARCHAR(255) default '' NOT NULL,
        shared INTEGER  NOT NULL,
        published INTEGER DEFAULT '1' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (virtuemart_media_id)
        )
    </statement>

    <statement id="createProductMediasXref">
        CREATE TABLE jos_virtuemart_product_medias (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_media_id INTEGER DEFAULT '0' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (id)
        )
    </statement>

    <statement id="createManufacturer">
        CREATE TABLE jos_virtuemart_manufacturers (
        virtuemart_manufacturer_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_manufacturercategories_id INTEGER DEFAULT '0' NOT NULL,
        hits INTEGER DEFAULT '0' NOT NULL,
        published INTEGER DEFAULT '1' NOT NULL,
  created_on TIMESTAMP,
  created_by INTEGER DEFAULT '0' NOT NULL,
  modified_on TIMESTAMP,
  modified_by INTEGER DEFAULT '0' NOT NULL,
  locked_on TIMESTAMP,
  locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (virtuemart_manufacturer_id)
        )
    </statement>
    
    <statement id="createManufacturerRURU">
        CREATE TABLE jos_virtuemart_manufacturers_ru_ru (
  virtuemart_manufacturer_id INTEGER DEFAULT '0' NOT NULL,
  mf_name VARCHAR(255) default '' NOT NULL,
  mf_email VARCHAR(255) default '' NOT NULL,
  mf_desc LONGVARCHAR default '' NOT NULL,
  mf_url VARCHAR(255) default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_manufacturer_id)
)
    </statement>
    
    <statement id="createManufacturerENGB">
        CREATE TABLE jos_virtuemart_manufacturers_en_gb (
  virtuemart_manufacturer_id INTEGER DEFAULT '0' NOT NULL,
  mf_name VARCHAR(255) default '' NOT NULL,
  mf_email VARCHAR(255) default '' NOT NULL,
  mf_desc LONGVARCHAR default '' NOT NULL,
  mf_url VARCHAR(255) default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_manufacturer_id)
)
    </statement>

    <statement id="createManufacturerMediasXref">
        CREATE TABLE jos_virtuemart_manufacturer_medias (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_manufacturer_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_media_id INTEGER DEFAULT '0' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (id)
        )
    </statement>

    <statement id="createManufacturerCategory">
        CREATE TABLE jos_virtuemart_manufacturercategories (
        virtuemart_manufacturercategories_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        published INTEGER DEFAULT '1' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (virtuemart_manufacturercategories_id)
        )
    </statement>
    
    <statement id="createManufacturerCategoryRURU">
  CREATE TABLE jos_virtuemart_manufacturercategories_ru_ru (
  virtuemart_manufacturercategories_id  INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  mf_category_name VARCHAR(255) default '' NOT NULL,
  mf_category_desc LONGVARCHAR default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_manufacturercategories_id) 
)
    </statement>
    
    <statement id="createManufacturerCategoryENGB">
      CREATE TABLE jos_virtuemart_manufacturercategories_en_gb (
  virtuemart_manufacturercategories_id  INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  mf_category_name VARCHAR(255) default '' NOT NULL,
  mf_category_desc LONGVARCHAR default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_manufacturercategories_id) 
)
    </statement>
    
    <statement id="createManufacturerMediaXref">
        CREATE TABLE jos_virtuemart_manufacturer_medias (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  virtuemart_manufacturer_id INTEGER DEFAULT '0' NOT NULL,
  virtuemart_media_id INTEGER DEFAULT '0' NOT NULL,
  ordering INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (id)  
) 
    </statement>

    <statement id="createProductMfXref">
        CREATE TABLE jos_virtuemart_product_manufacturers (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_manufacturer_id INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (id)
        )
    </statement>
    
    <statement id="createVendor">
        CREATE TABLE jos_virtuemart_vendors (
        virtuemart_vendor_id  INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        vendor_name varchar(64) default NULL,
        vendor_currency INTEGER DEFAULT '0' NOT NULL,
        vendor_accepted_currencies VARCHAR(255) default '' NOT NULL,
        vendor_params LONGVARCHAR default '' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (virtuemart_vendor_id)
        )
    </statement>
    
    <statement id="createVendorRURU">
        CREATE TABLE jos_virtuemart_vendors_ru_ru (
  virtuemart_vendor_id INTEGER DEFAULT '1' NOT NULL,
  vendor_store_desc  LONGVARCHAR default '' NOT NULL,
  vendor_terms_of_service VARCHAR(255) default '' NOT NULL,
  vendor_legal_info VARCHAR(255) default '' NOT NULL,
  vendor_store_name VARCHAR(255) default '' NOT NULL,
  vendor_phone VARCHAR(255) default '' NOT NULL,
  vendor_url VARCHAR(255) default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_vendor_id)
)
    </statement>
    
    <statement id="createVendorENGB">
         CREATE TABLE jos_virtuemart_vendors_en_gb (
  virtuemart_vendor_id INTEGER DEFAULT '1' NOT NULL,
  vendor_store_desc  VARCHAR(255) default '' NOT NULL,
  vendor_terms_of_service VARCHAR(255) default '' NOT NULL,
  vendor_legal_info VARCHAR(255) default '' NOT NULL,
  vendor_store_name VARCHAR(255) default '' NOT NULL,
  vendor_phone VARCHAR(255) default '' NOT NULL,
  vendor_url VARCHAR(255) default '' NOT NULL,
  slug VARCHAR(255) default '' NOT NULL,
  PRIMARY KEY (virtuemart_vendor_id)
)
    </statement>

    <statement id="createVendorMedias">
        CREATE TABLE jos_virtuemart_vendor_medias (
        id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_vendor_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_media_id INTEGER DEFAULT '0' NOT NULL,
        ordering  INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY  (id)
        )
    </statement>

    <statement id="setCollation">
        SET DATABASE COLLATION "Russian";
    </statement>

    <select id="tablePresent" parameterClass="String" resultClass="Integer">
        SELECT COUNT(*)
        FROM INFORMATION_SCHEMA.SYSTEM_TABLES
        WHERE TABLE_NAME=#value#;
    </select>

    <statement id="createCategoryState">
        CREATE TABLE category_state (
        category_id  INTEGER DEFAULT '0' NOT NULL,
        image_present CHAR(1) DEFAULT 'Y',
        xml_id INTEGER DEFAULT '0' NOT NULL,
        xml_name VARCHAR(255)DEFAULT  '' NOT NULL,
        created TIMESTAMP,
        marga integer default '0' not null,
        PRIMARY KEY (category_id)
        )
    </statement>

    <statement id="populateCategoryState">
        INSERT INTO category_state (category_id)
        SELECT virtuemart_category_id FROM jos_virtuemart_categories
    </statement>

    <statement id="createProductState">
        CREATE TABLE product_state (
        product_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        xml_id  INTEGER DEFAULT '0' NOT NULL,
        xml_name VARCHAR(255) DEFAULT  '' NOT NULL,
        xml_sku VARCHAR(255) DEFAULT  '' NOT NULL,
        created TIMESTAMP,
        updated TIMESTAMP,
        param1 VARCHAR(255) DEFAULT  '' NOT NULL,
        param2 VARCHAR(255) DEFAULT  '' NOT NULL,
        param3 VARCHAR(255) DEFAULT  '' NOT NULL,
        PRIMARY KEY  (product_id)
        )
    </statement>

    <statement id="populateProductState">
        INSERT INTO product_state (product_id)
        SELECT virtuemart_product_id FROM jos_virtuemart_products
    </statement>

    <statement id="createProductCategoryXrefLocal">
        CREATE TABLE product_category_xref (
        category_id INTEGER DEFAULT '0' NOT NULL,
        product_id INTEGER DEFAULT '0' NOT NULL,
        product_list INTEGER DEFAULT NULL
        );
    </statement>

    <statement id="createCategoryXrefLocal">
        CREATE TABLE category_xref (
        category_parent_id INTEGER DEFAULT '0' NOT NULL,
        category_child_id INTEGER DEFAULT '0' NOT NULL,
        category_list INTEGER DEFAULT NULL,
        PRIMARY KEY (category_parent_id,category_child_id)
        )
    </statement>
    <statement id="createCustoms">
        CREATE TABLE jos_virtuemart_customs (
        virtuemart_custom_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        custom_parent_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_vendor_id INTEGER DEFAULT '1' NOT NULL,
        custom_jplugin_id INTEGER DEFAULT '1' NOT NULL,
        custom_element varchar(255) default '' NOT NULL ,
        admin_only INTEGER DEFAULT '0' NOT NULL,
        custom_title varchar(255) default '' NOT NULL ,
        custom_tip varchar(255) default '' NOT NULL ,
        custom_value LONGVARCHAR default '' NOT NULL ,
        custom_field_desc LONGVARCHAR default '' NOT NULL ,
        field_type varchar(1) default '' NOT NULL ,
        is_list INTEGER DEFAULT '0' NOT NULL,
        is_hidden INTEGER DEFAULT '0' NOT NULL,
        is_cart_attribute INTEGER DEFAULT '0' NOT NULL,
        layout_pos VARCHAR(255) DEFAULT '' NOT NULL,      
        custom_params VARCHAR(255) DEFAULT '' NOT NULL,      
        shared INTEGER DEFAULT '0' NOT NULL,
        published INTEGER DEFAULT '0' NOT NULL,
        created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        ordering INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY(virtuemart_custom_id)
        )
    </statement>
    
    <statement id="createProductCustoms">
        CREATE TABLE jos_virtuemart_product_customfields (
        virtuemart_customfield_id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
        virtuemart_product_id INTEGER DEFAULT '0' NOT NULL,
        virtuemart_custom_id INTEGER DEFAULT '0' NOT NULL,
        custom_value  LONGVARCHAR default '' NOT NULL ,
        custom_price  varchar(255) default '' ,
        custom_param  VARCHAR(255) default '' NOT NULL,
        published  INTEGER DEFAULT '1' NOT NULL,
         created_on TIMESTAMP,
        created_by INTEGER DEFAULT '0' NOT NULL,
        modified_on TIMESTAMP,
        modified_by INTEGER DEFAULT '0' NOT NULL,
        locked_on TIMESTAMP,
        locked_by INTEGER DEFAULT '0' NOT NULL,
        ordering  INTEGER DEFAULT '0' NOT NULL,
        PRIMARY KEY (virtuemart_customfield_id)
        )
    </statement>
    
    <statement id="createCategoryMedias">
    CREATE TABLE jos_virtuemart_category_medias (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) NOT NULL,
  virtuemart_category_id  INTEGER DEFAULT '0' NOT NULL,
  virtuemart_media_id  INTEGER DEFAULT '0' NOT NULL,
  ordering  INTEGER DEFAULT '0' NOT NULL,
  PRIMARY KEY (id)  
)
    </statement>
    
    <statement id="patchVM12_1">
ALTER TABLE jos_virtuemart_product_prices ADD   PRODUCT_PRICE_PUBLISH_UP TIMESTAMP;
    </statement>    

    <statement id="patchVM12_2">
ALTER TABLE jos_virtuemart_product_prices ADD PRODUCT_PRICE_PUBLISH_DOWN TIMESTAMP;
    </statement>    
         
    <statement id="patchVM12_3">
ALTER TABLE jos_virtuemart_product_prices DROP product_price_edate; 
    </statement>    
    
    <statement id="patchVM12_4">
ALTER TABLE jos_virtuemart_product_prices DROP product_price_vdate; 
    </statement>    

    <statement id="patchTecnas">
ALTER TABLE jos_virtuemart_medias ADD ordering  INTEGER DEFAULT '0' NOT NULL; 
    </statement>  
    
    <statement id="patchVM012">
ALTER TABLE jos_virtuemart_medias ADD FILE_LANG VARCHAR(255);
    </statement>    

    <statement id="patchVM012_1">
ALTER TABLE JOS_VIRTUEMART_PRODUCT_CUSTOMFIELDS ALTER COLUMN  CUSTOM_PRICE varchar(255);
    </statement>   
    <statement id="patchVM012_2">
ALTER TABLE JOS_VIRTUEMART_CATEGORIES ALTER COLUMN  LIMIT_LIST_START INTEGER;
    </statement>   
    <statement id="patchVM012_2_1">
ALTER TABLE JOS_VIRTUEMART_CATEGORIES ALTER COLUMN  LIMIT_LIST_STEP INTEGER;
    </statement>   
    <statement id="patchVM012_2_2">
ALTER TABLE JOS_VIRTUEMART_CATEGORIES ALTER COLUMN  LIMIT_LIST_MAX INTEGER;
    </statement>   
    <statement id="patchVM012_2_3">
ALTER TABLE JOS_VIRTUEMART_CATEGORIES ALTER COLUMN  LIMIT_LIST_INITIAL INTEGER;
    </statement>   
    
    <statement id="patchVM012_3">
ALTER TABLE JOS_VIRTUEMART_PRODUCTS ADD pordering  INTEGER;
    </statement>   
    
    <statement id="patchVM013">
ALTER TABLE jos_virtuemart_product_prices ALTER COLUMN PRODUCT_PRICE_PUBLISH_DOWN TIMESTAMP ;
    </statement>
    <statement id="patchMasterfon">
        ALTER TABLE jos_virtuemart_medias ADD ordering VARCHAR(255);
    </statement>
    <statement id="patchMSIGR">
       ALTER TABLE JOS_VIRTUEMART_CATEGORIES DROP COLUMN  LIMIT_LIST_START ; 
    </statement>
    <statement id="patchVM022a">
    ALTER TABLE JOS_VIRTUEMART_VENDORS ADD metarobot VARCHAR(255);
    </statement> 
    <statement id="patchVM022a_1">
    ALTER TABLE JOS_VIRTUEMART_VENDORS ADD metaauthor VARCHAR(255);
    </statement> 
    <statement id="patchVM022a_2">
    ALTER TABLE JOS_VIRTUEMART_CATEGORIES DROP COLUMN  LIMIT_LIST_START ; 
    </statement> 
    <statement id="patchVM022a_3">
    ALTER TABLE JOS_VIRTUEMART_CATEGORIES DROP COLUMN  LIMIT_LIST_MAX ; 
    </statement> 
    <statement id="patchVM022a_4">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD vendor_letter_css VARCHAR(255);
    </statement>
    <statement id="patchVM022a_5">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD vendor_letter_header_html VARCHAR(255);
    </statement>
    <statement id="patchVM022a_6">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD vendor_letter_footer_html VARCHAR(255);   
    </statement>
    <statement id="patchVM022a_7">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD metadesc VARCHAR(255);   
    </statement>
    <statement id="patchVM022a_8">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD metakey VARCHAR(255);   
    </statement>
    <statement id="patchVM022a_9">
    ALTER TABLE jos_virtuemart_vendors_ru_ru ADD customtitle VARCHAR(255);   
    </statement>
    <statement id="patchVM022a_10">
    ALTER TABLE jos_virtuemart_customs ADD show_title VARCHAR(255);   
    </statement>
    <statement id="patchMarat">
    ALTER TABLE jos_virtuemart_products ADD product_hits VARCHAR(255);   
    </statement>
    <statement id="patchMarat_1">
    ALTER TABLE jos_virtuemart_products ADD product_news VARCHAR(255);   
    </statement>
    <statement id="patchMarat_2">
    ALTER TABLE jos_virtuemart_products ADD product_stock_2 VARCHAR(255);   
    </statement>
    <statement id="patchVM26">
    ALTER TABLE jos_virtuemart_products ADD product_gtin VARCHAR(255);   
    </statement>
    <statement id="patchVM26_1">
    ALTER TABLE jos_virtuemart_products ADD product_mpn VARCHAR(255);   
    </statement>
    <statement id="patchVM26_2">
       ALTER TABLE JOS_VIRTUEMART_CATEGORIES DROP COLUMN  LIMIT_LIST_START ; 
    </statement> 
    <statement id="patchVM26_3">
       ALTER TABLE JOS_VIRTUEMART_CATEGORIES DROP COLUMN  LIMIT_LIST_MAX ; 
    </statement> 
    <statement id="patchVM30">
       ALTER TABLE jos_virtuemart_medias ADD COLUMN  FILE_CLASS VARCHAR(255); 
    </statement> 
    <statement id="patchVM30_1">
       ALTER TABLE jos_virtuemart_shoppergroups  ADD COLUMN  sgrp_additional VARCHAR(255); 
    </statement>         
    <statement id="patchVM30_2">
       ALTER TABLE jos_virtuemart_vendors_ru_ru  ADD COLUMN  VENDOR_INVOICE_FREE1 VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_3">
       ALTER TABLE jos_virtuemart_vendors_ru_ru  ADD COLUMN  VENDOR_INVOICE_FREE2 VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_4">
       ALTER TABLE jos_virtuemart_vendors_ru_ru  ADD COLUMN  VENDOR_MAIL_FREE1 VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_5">
       ALTER TABLE jos_virtuemart_vendors_ru_ru  ADD COLUMN  VENDOR_MAIL_FREE2 VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_6">
       ALTER TABLE jos_virtuemart_vendors_ru_ru  ADD COLUMN  VENDOR_MAIL_CSS VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_7">
       ALTER TABLE jos_virtuemart_products  ADD COLUMN  PRODUCT_GTIN VARCHAR(255); 
    </statement>     
    <statement id="patchVM30_8">
       ALTER TABLE jos_virtuemart_customs  ADD COLUMN  CUSTOM_DESC LONGVARCHAR default '' NOT NULL ; 
    </statement>     
    <statement id="patchVM30_9">
       ALTER TABLE jos_virtuemart_customs  ADD COLUMN  IS_INPUT INTEGER;
    </statement>  
    <statement id="patchVM30_10">
    ALTER TABLE jos_virtuemart_customs  DROP COLUMN  custom_field_desc; 
    </statement>      
    <!-- vm 3.0.12 //-->
    <statement id="patchVM30_11">
    ALTER TABLE jos_virtuemart_product_customfields  ALTER COLUMN  custom_value RENAME TO customfield_value; 
    </statement>      
    <statement id="patchVM30_12">
    ALTER TABLE jos_virtuemart_product_customfields  ALTER COLUMN  custom_price RENAME TO customfield_price; 
    </statement>      
    <statement id="patchVM30_13">
    ALTER TABLE jos_virtuemart_product_customfields  ALTER COLUMN  custom_param RENAME TO customfield_params; 
    </statement>      
    <statement id="patchVM30_14">
    ALTER TABLE jos_virtuemart_product_customfields  ADD COLUMN disabler INTEGER; 
    </statement>      
    <statement id="patchVM30_15">
    ALTER TABLE jos_virtuemart_product_customfields  ADD COLUMN override INTEGER; 
    </statement>      
    <statement id="patchVM30_16">
    ALTER TABLE jos_virtuemart_product_customfields  ADD COLUMN product_sku VARCHAR(255); 
    </statement>      
    <statement id="patchVM30_17">
    ALTER TABLE jos_virtuemart_product_customfields  ADD COLUMN product_gtin VARCHAR(255); 
    </statement>      
    <statement id="patchVM30_18">
    ALTER TABLE jos_virtuemart_product_customfields  ADD COLUMN product_mpn VARCHAR(255); 
    </statement>         
     <statement id="patchVM30_19">
    ALTER TABLE jos_virtuemart_products_ru_ru  ALTER COLUMN metadesc LONGVARCHAR; 
    </statement>    
    <statement id="patchVM30_20">
    ALTER TABLE  JOS_VIRTUEMART_MEDIAS  ALTER COLUMN file_title varchar(254); 
    </statement>          
</sqlMap>